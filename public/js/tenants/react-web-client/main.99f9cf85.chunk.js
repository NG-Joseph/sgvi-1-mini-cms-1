(this["webpackJsonptenants-react-web-client"]=this["webpackJsonptenants-react-web-client"]||[]).push([[0],{17:function(e,a,t){"use strict";t.r(a);var n,l,c,r,s=t(0),m=t.n(s),o=t(5),i=t.n(o),d=t(4),u=t(1),p=function(e,a){switch(a.type){case"FetchDataSuccess":return Object(u.a)(Object(u.a)({},e),{},{tenants:a.payload.tenants,tenantsCount:a.payload.tenantsCount});case"FetchDataFailure":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!0,type:"danger",message:"Could not load remote data: ".concat(a.payload.error)}});case"HandleViewTenant":return Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!0,onAddTenant:!1,onEditTenant:!1,tenant:a.payload.tenant});case"HandleCloseViewTenant":return Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!1,tenant:null});case"HandleOnAddTenant":return Object(u.a)(Object(u.a)({},e),{},{onAddTenant:!0,onEditTenant:!1,alert:Object(u.a)(Object(u.a)({},e.alert),{},{show:!1})});case"HandleCancelCreate":return Object(u.a)(Object(u.a)({},e),{},{onAddTenant:!1});case"BeforeCreateTenant":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!0,type:"info",message:"Creating tenant. Please wait!"}});case"CreateTenantSuccess":var t=e.tenants;t.push(a.payload.tenant);var n=e.tenantsCount++;return Object(u.a)(Object(u.a)({},e),{},{tenants:t,tenantsCount:n,onAddTenant:!1,alert:{show:!0,type:"success",message:"Tenant successfully created!"}});case"CreateTenantFailure":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!0,type:"danger",message:"Could not create tenant: ".concat(a.payload.error)}});case"BeforeDeleteTenant":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!0,type:"info",message:"Deleting tenant. Please wait!"}});case"DeleteTenantSuccess":var l=e.tenants,c=l.findIndex((function(e){return e.id===a.payload.id}));l.splice(c,1);var r=e.tenantsCount--;return Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!1,tenants:l,tenantsCount:r,alert:{show:!0,type:"success",message:"Tenant successfully deleted!"}});case"DeleteTenantFailure":return Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!1,alert:{show:!0,type:"danger",message:"Could not delete tenant: ".concat(a.payload.error)}});case"BeforeUpdateTenant":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!0,type:"info",message:"Updating tenant. Please wait!"}});case"HandleCancelUpdate":return Object(u.a)(Object(u.a)({},e),{},{onEditTenant:!1});case"HandleEditTenant":var s=e.tenants,m=s.findIndex((function(e){return e.id===a.payload.id})),o=s[m];return Object(u.a)(Object(u.a)({},e),{},{onEditTenant:!0,tenant:o,onAddTenant:!1,alert:Object(u.a)(Object(u.a)({},e.alert),{},{show:!1})});case"UpdateTenantSuccess":var i=e.tenants,d=i.findIndex((function(e){return e.id===a.payload.tenant.id}));return i[d]=a.payload.tenant,Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!1,tenants:i,tenant:a.payload.tenant,onEditTenant:!1,alert:{show:!0,type:"success",message:"Tenant successfully updated!"}});case"UpdateTenantFailure":return Object(u.a)(Object(u.a)({},e),{},{onViewTenant:!1,alert:{show:!0,type:"danger",message:"Could not update tenant: ".concat(a.payload.error)}});case"HandleCloseAlert":return Object(u.a)(Object(u.a)({},e),{},{alert:{show:!1,message:"",type:""}});default:return e}},E=t(2),v=t.n(E),h=t(3),N=function(){var e=Object(h.a)(v.a.mark((function e(a,t,n){var l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"BeforeCreateTenant"}),e.prev=1,e.next=4,fetch("/v1/tenants?createPrimaryContact=".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if((l=e.sent).ok){e.next=7;break}throw new Error(l.statusText);case 7:return e.next=9,l.json();case 9:c=e.sent,n({type:"CreateTenantSuccess",payload:{tenant:c}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n({type:"CreateTenantFailure",payload:{error:e.t0}});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a,t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(h.a)(v.a.mark((function e(a,t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"BeforeDeleteTenant"}),e.prev=1,e.next=4,fetch("/v1/tenants/".concat(a),{method:"DELETE"});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:t({type:"DeleteTenantSuccess",payload:{id:a}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t({type:"DeleteTenantFailure",payload:{error:e.t0}});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a,t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(v.a.mark((function e(a,t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"BeforeUpdateTenant"}),e.prev=1,e.next=4,fetch("/v1/tenants",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:return e.next=9,n.json();case 9:t({type:"UpdateTenantSuccess",payload:{tenant:a}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),alert("error zone"),t({type:"UpdateTenantFailure",payload:{error:e.t0}});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a,t){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(v.a.mark((function e(a){var t,n,l,c=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>1&&void 0!==c[1]?c[1]:{},e.prev=1,e.next=4,fetch("/v1/tenants?findOptions=".concat(encodeURI(JSON.stringify(t))));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.statusText);case 7:return e.next=9,n.json();case 9:l=e.sent,a({type:"FetchDataSuccess",payload:{tenantsCount:l[1],tenants:l[0]}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a({type:"FetchDataFailure",payload:{error:e.t0}});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}(),g=t(6),C=function(e){var a=e.message,t=e.type,n=e.onClickHandler;return m.a.createElement(g.Notification,{color:t,onClick:n},a,m.a.createElement(g.Button,{remove:!0}))},O=function(e){var a,t,n,l=e.tenant,c=Object(s.useContext)(S);return m.a.createElement("tr",null,m.a.createElement("td",null,l.uniqueName),m.a.createElement("td",null,null===(a=l.primaryContact)||void 0===a?void 0:a.firstName),m.a.createElement("td",null,null===(t=l.primaryContact)||void 0===t?void 0:t.lastName),m.a.createElement("td",null,null===(n=l.primaryContact)||void 0===n?void 0:n.primaryEmailAddress),m.a.createElement("td",null,l.status),m.a.createElement("td",null,m.a.createElement("div",{className:"buttons are-small"},m.a.createElement("button",{className:"button is-link",onClick:function(){c.dispatch({type:"HandleViewTenant",payload:{tenant:l}})}},"View Detail"),m.a.createElement("button",{className:"button is-warning",onClick:function(){c.dispatch({type:"HandleEditTenant",payload:{id:l.id}})}},"Edit"),m.a.createElement("button",{className:"button is-danger",onClick:function(){window.confirm("This action cannot be reversed! Are you sure you want to delete?")&&c.handleDeleteTenant(l.id,c.dispatch)}},"Delete"))))},w=function(){return m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Unique Name"),m.a.createElement("th",null,"Contact First Name"),m.a.createElement("th",null,"Contact Last Name"),m.a.createElement("th",null,"Contact Email"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Action")))},T=function(e){var a;return a=e.tenants.map((function(e){return m.a.createElement(O,{tenant:e,key:e.id})})),m.a.createElement("table",{className:"table is-striped is-narrow is-hoverable"},m.a.createElement("caption",null,m.a.createElement("h3",null,"Available tenants")),m.a.createElement(w,null),m.a.createElement("tbody",null,a))};!function(e){e.A="active",e.S="suspended",e.O="owing"}(n||(n={})),function(e){e.M="male",e.F="female"}(l||(l={})),function(e){e.A="admin",e.M="marketing",e.C="content-manager"}(c||(c={})),function(e){e.M="manager",e.T="tech-support"}(r||(r={}));var j=function(e){var a,t,c={tenant:{uniqueName:"",address:"",moreInfo:"",status:void 0,customURLSlug:null,dateOfRegistration:new Date,active:!0,uniqueSchema:!0,primaryContact:{}},createPrimaryContact:!0},r=Object(s.useState)(Object(u.a)({},c)),o=Object(d.a)(r,2),i=o[0],p=o[1],E=function(e){var a=i.tenant,t=e.target;a[t.name]=t.value,p(Object(u.a)(Object(u.a)({},i),{},{tenant:a}))},v=function(e){var a=i.tenant,t=e.target;a.primaryContact[t.name]=t.value,p(Object(u.a)(Object(u.a)({},i),{},{tenant:a}))};return m.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.handleCreateTenant(i.tenant,i.createPrimaryContact?1:0,e.dispatch)}},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("h2",null,"Add Tenant")),m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("div",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Unique Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"text",placeholder:"Unique name input",name:"uniqueName",value:i.tenant.uniqueName,onChange:E,required:!0}))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Address"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"text",placeholder:"Address input",name:"address",value:i.tenant.address,onChange:E,required:!0}))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"More Information"),m.a.createElement("div",{className:"control"},m.a.createElement("textarea",{className:"input",placeholder:"More information input",rows:10,name:"moreInfo",value:i.tenant.moreInfo,onChange:E}))),m.a.createElement("div",{className:"select"},m.a.createElement("select",{name:"status",onChange:E,value:i.tenant.status},m.a.createElement("option",{value:"notSelected"},"Select tenant status"),m.a.createElement("option",{value:n.A},"Active"),m.a.createElement("option",{value:n.O},"Owing"),m.a.createElement("option",{value:n.S},"Suspended"))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Date of Registration"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"date",required:!0,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",max:"{{todaysDate}}",placeholder:"Date of registration",name:"dateOfRegistration",value:null===(a=i.tenant.dateOfRegistration)||void 0===a?void 0:a.toLocaleString(),onChange:E}))))),m.a.createElement("div",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("h4",null," Set Primary Contact"),m.a.createElement("div",{className:"field"},m.a.createElement("div",{className:"control"},m.a.createElement("span",null,m.a.createElement("input",{type:"checkbox",name:"addPrimaryContact",value:"",checked:i.createPrimaryContact,onChange:function(){var e=!i.createPrimaryContact;p(Object(u.a)(Object(u.a)({},i),{},{createPrimaryContact:e}))}}),"\xa0Create?")))),!i.createPrimaryContact&&m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Primary Email Address of Contact"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"primaryEmailAddress",className:"input",type:"email",placeholder:"Enter valid email here",maxLength:30,value:i.tenant.primaryContact.primaryEmailAddress,onChange:v,required:!0})))),i.createPrimaryContact&&m.a.createElement("div",{id:"addPrimaryContactBox",className:"box"},m.a.createElement("h5",null,"Create Primary Contact"),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Primary Email Address"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"primaryEmailAddress",className:"input",type:"email",placeholder:"Enter valid email here",maxLength:30,value:i.tenant.primaryContact.primaryEmailAddress,onChange:v,required:!0})),m.a.createElement("p",{className:"help"},"The email address should not be more than 30 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Password"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"passwordHash",className:"input",type:"password",placeholder:"Enter password here",maxLength:128,value:i.tenant.primaryContact.passwordHash,onChange:v,required:!0})),m.a.createElement("p",{className:"help"},"The password should not be more than 128 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"First Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"firstName",className:"input",type:"text",placeholder:"Enter first name here",maxLength:30,value:i.tenant.primaryContact.firstName,onChange:v,required:!0})),m.a.createElement("p",{className:"help"},"The first name should not be more than 30 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Last Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"lastName",className:"input",type:"text",placeholder:"Enter last name here",maxLength:30,value:i.tenant.primaryContact.lastName,onChange:v,required:!0})),m.a.createElement("p",{className:"help"},"The last name should not be more than 30 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Middle Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"middleName",className:"input",type:"text",placeholder:"Enter middle name here",maxLength:30,value:i.tenant.primaryContact.middleName,onChange:v})),m.a.createElement("p",{className:"help"},"Even though optional, it is advisable to enter middle name")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Common Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"commonName",className:"input",type:"text",placeholder:"Enter common name here",maxLength:20,value:i.tenant.primaryContact.commonName,onChange:v})),m.a.createElement("p",{className:"help"},"What is the user commonly called. The common name should not be more than 20 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Home Address"),m.a.createElement("div",{className:"control"},m.a.createElement("textarea",{name:"homeAddress",className:"input",rows:6,placeholder:"Enter home address here",maxLength:100,value:i.tenant.primaryContact.homeAddress,onChange:v})),m.a.createElement("p",{className:"help"},"The home address should not be more than 100 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Gender"),m.a.createElement("div",{className:"control"},m.a.createElement("div",{className:"select"},m.a.createElement("select",{name:"gender",value:i.tenant.primaryContact.gender,onChange:v},m.a.createElement("option",{value:"notSelected"},"Select Gender"),m.a.createElement("option",{value:l.F},"Female"),m.a.createElement("option",{value:l.M},"Male")))),m.a.createElement("p",{className:"help"},"Select the Gender")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Date of Birth"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"dateOfBirth",id:"dateOfBirth",className:"input",type:"date",required:!0,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",max:(new Date).toLocaleString(),value:null===(t=i.tenant.primaryContact.dateOfBirth)||void 0===t?void 0:t.toLocaleString(),onChange:v})),m.a.createElement("p",{className:"help"},"The date of birth of the user. Pattern of entry is YYYY-MM-DD")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Nationality"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"nationality",className:"input",type:"text",placeholder:"Enter nationality here",maxLength:30,value:i.tenant.primaryContact.nationality,onChange:v})),m.a.createElement("p",{className:"help"},"The nationality should not be more than 30 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"State"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"stateOfOrigin",className:"input",type:"text",placeholder:"Enter state here",maxLength:30,value:i.tenant.primaryContact.stateOfOrigin,onChange:v})),m.a.createElement("p",{className:"help"},"The state should not be more than 30 letters")),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Zip code"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"zip",className:"input",type:"text",placeholder:"Enter zip code here",maxLength:6,value:i.tenant.primaryContact.zip,onChange:v})),m.a.createElement("p",{className:"help"},"The zip code should not be more than 6 letters"))))),m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("div",{className:"field is-grouped"},m.a.createElement("div",{className:"control"},m.a.createElement("button",{className:"button is-link"},"Submit")),m.a.createElement("div",{className:"control"},m.a.createElement("button",{className:"button is-link is-light",onClick:function(){e.dispatch({type:"HandleCancelCreate"})}},"Cancel"))))))},x=function(e){var a={id:e.tenant.id,uniqueName:e.tenant.uniqueName,address:e.tenant.address,moreInfo:e.tenant.moreInfo,status:e.tenant.status,customURLSlug:e.tenant.customURLSlug,dateOfRegistration:e.tenant.dateOfRegistration,active:e.tenant.active,uniqueSchema:e.tenant.uniqueSchema,primaryContact:e.tenant.primaryContact,teamMembers:e.tenant.teamMembers,tenantAccountOfficers:e.tenant.tenantAccountOfficers,connectionResource:e.tenant.connectionResource,customTheme:e.tenant.customTheme},t=Object(s.useState)(Object(u.a)({},a)),l=Object(d.a)(t,2),c=l[0],r=l[1],o=function(e){var a=c,t=e.target;a[t.name]=t.value,r(Object(u.a)({},a))},i=c.teamMembers.forEach((function(e,a){return m.a.createElement("div",{className:"columns"},m.a.createElement("tr",null,m.a.createElement("td",null,a),m.a.createElement("td",null,e.user.primaryEmailAddress),m.a.createElement("td",null,e.user.firstName),m.a.createElement("td",null,e.user.lastName),m.a.createElement("td",null,e.user.primaryEmailAddress),m.a.createElement("td",null,e.roles.toString()),m.a.createElement("td",null,m.a.createElement("div",{className:"buttons are-small"},m.a.createElement("button",{className:"button is-link",onClick:function(){return alert("Yet to be implemented"),!1}},"View Detail"),m.a.createElement("button",{className:"button is-warning",onClick:function(){return alert("Yet to be implemented"),!1}},"Edit"),m.a.createElement("button",{className:"button is-danger",onClick:function(){return alert("Yet to be implemented"),!1}},"Delete")))))})),p=c.tenantAccountOfficers.forEach((function(e,a){return m.a.createElement("div",{className:"columns"},m.a.createElement("tr",null,m.a.createElement("td",null,a),m.a.createElement("td",null,e.user.primaryEmailAddress),m.a.createElement("td",null,e.user.firstName),m.a.createElement("td",null,e.user.lastName),m.a.createElement("td",null,e.user.primaryEmailAddress),m.a.createElement("td",null,e.roles.toString()),m.a.createElement("td",null,m.a.createElement("div",{className:"buttons are-small"},m.a.createElement("button",{className:"button is-link",onClick:function(){return alert("Yet to be implemented"),!1}},"View Detail"),m.a.createElement("button",{className:"button is-warning",onClick:function(){return alert("Yet to be implemented"),!1}},"Edit"),m.a.createElement("button",{className:"button is-danger",onClick:function(){return alert("Yet to be implemented"),!1}},"Delete")))))}));return m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("div",{className:"column"},m.a.createElement("form",{onSubmit:function(a){a.preventDefault(),e.handleUpdateTenant(c,e.dispatch)}},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("h2",null,"Edit Tenant")),m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("div",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Unique Name"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"text",placeholder:"Unique name input",name:"uniqueName",value:c.uniqueName,onChange:o,required:!0}))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Address"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"text",placeholder:"Address input",name:"address",value:c.address,onChange:o,required:!0}))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"More Information"),m.a.createElement("div",{className:"control"},m.a.createElement("textarea",{className:"input",placeholder:"More information input",rows:10,name:"moreInfo",value:c.moreInfo,onChange:o}))),m.a.createElement("div",{className:"select"},m.a.createElement("select",{name:"status",onChange:o,value:c.status},m.a.createElement("option",{value:"notSelected"},"Select tenant status"),m.a.createElement("option",{value:n.A},"Active"),m.a.createElement("option",{value:n.O},"Owing"),m.a.createElement("option",{value:n.S},"Suspended"))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Date of Registration: ",new Date(c.dateOfRegistration).toLocaleDateString("en-GB")),m.a.createElement("div",{className:"control"},m.a.createElement("input",{className:"input",type:"date",required:!0,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",max:"{{todaysDate}}",placeholder:"Date of registration",name:"dateOfRegistration",onChange:o})))))),m.a.createElement("div",{className:"columns is-mobile"},m.a.createElement("div",{className:"field is-grouped"},m.a.createElement("div",{className:"control"},m.a.createElement("button",{className:"button is-link"},"Submit")),m.a.createElement("div",{className:"control"},m.a.createElement("button",{className:"button is-link is-light",onClick:function(){e.dispatch({type:"HandleCancelUpdate"})}},"Cancel"))))))),m.a.createElement("div",{className:"column"},m.a.createElement("div",{className:"columns"},m.a.createElement("form",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Change Primary Contact:"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{name:"primaryEmailAddress",className:"input",type:"text",placeholder:"Enter valid email here",maxLength:30,value:c.primaryContact.primaryEmailAddress,required:!0})),m.a.createElement("p",{className:"help"},"The email address should not be more than 30 letters")),m.a.createElement("div",{className:"control"},m.a.createElement("button",{onClick:function(){return alert("Yet to be implemented"),!1},className:"button is-link is-small"},"Submit"))))),m.a.createElement("div",{className:"columns"},m.a.createElement("form",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Change Team Members:"),c.teamMembers.length>0?i:m.a.createElement("div",null,"No team members yet"),m.a.createElement("div",{className:"control"},m.a.createElement("button",{onClick:function(){return alert("Yet to be implemented"),!1},className:"button is-link is-small"},"Add New")))))),m.a.createElement("div",{className:"columns"},m.a.createElement("form",{className:"column"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Change Account Officers:"),c.tenantAccountOfficers.length>0?p:m.a.createElement("div",null,"No account officers yet"),m.a.createElement("div",{className:"control"},m.a.createElement("button",{onClick:function(){return alert("Yet to be implemented"),!1},className:"button is-link is-small"},"Add New"))))))))},k=function(e){var a=e.tenant,t={upload:{fileToUpload:"",uploadButtonState:""},alert:{show:!1,type:void 0,message:""},logo:{src:"/v1/tenants/".concat(a.id,"/logo")}},n=Object(s.useState)(Object(u.a)({},t)),l=Object(d.a)(n,2),c=l[0],r=l[1],o=Object(s.useContext)(S),i=function(){var e=Object(h.a)(v.a.mark((function e(t){var n,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("file",c.upload.fileToUpload),e.prev=3,r(Object(u.a)(Object(u.a)({},c),{},{upload:Object(u.a)(Object(u.a)({},c.upload),{},{uploadButtonState:"is-loading"})})),e.next=7,fetch("/v1/tenants/".concat(a.id,"/logo"),{method:"POST",body:n});case 7:if((l=e.sent).ok){e.next=10;break}throw new Error(l.statusText);case 10:r(Object(u.a)(Object(u.a)({},c),{},{logo:Object(u.a)(Object(u.a)({},c.logo),{},{src:"".concat(c.logo.src,"?&").concat(Date.now())}),upload:{fileToUpload:"",uploadButtonState:""}})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r(Object(u.a)(Object(u.a)({},c),{},{alert:{show:!0,type:"danger",message:"logo upload failed: ".concat(e.t0.message)}}));case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(a){return e.apply(this,arguments)}}(),p=m.a.createElement(C,{type:c.alert.type,message:c.alert.message,onClickHandler:function(){r(Object(u.a)(Object(u.a)({},c),{},{alert:{show:!1,message:"",type:void 0}}))}});return m.a.createElement("div",{className:"modal modal-full-screen modal-fx-fadeInScale is-active"},m.a.createElement("div",{className:"modal-background"}),m.a.createElement("div",{className:"modal-content"},m.a.createElement("header",{className:"modal-card-head"},m.a.createElement("p",{className:"modal-card-title"},"Details of ".concat(a.uniqueName)),m.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){o.dispatch({type:"HandleCloseViewTenant"})}})),m.a.createElement("section",{className:"modal-card-body"},m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-thirds"},m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Address:"),m.a.createElement("div",{className:"column"},a.address)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"More Information:"),m.a.createElement("div",{className:"column"},a.moreInfo)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Contact firstname:"),m.a.createElement("div",{className:"column"},a.primaryContact.firstName)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Contact lastname:"),m.a.createElement("div",{className:"column"},a.primaryContact.lastName)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Contact email:"),m.a.createElement("div",{className:"column"},a.primaryContact.primaryEmailAddress)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Status:"),m.a.createElement("div",{className:"column"},a.status)),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column is-two-fifths"},"Active:"),m.a.createElement("div",{className:"column"},a.active?"Yes":"No"))),m.a.createElement("div",{className:"column"},m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column"},"Logo")),m.a.createElement("div",{className:"columns"},m.a.createElement("div",{className:"column"},m.a.createElement("img",{src:"".concat(c.logo.src)}))),m.a.createElement("form",{className:"columns",onSubmit:i},m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label"},"Upload logo"),m.a.createElement("div",{className:"control"},m.a.createElement("input",{type:"file",name:"file",onChange:function(e){r(Object(u.a)(Object(u.a)({},c),{},{upload:Object(u.a)(Object(u.a)({},c.upload),{},{fileToUpload:e.target.files[0]})}))},required:!0})),m.a.createElement("div",{className:"field"},c.alert.show&&p),m.a.createElement("div",{className:"field control"},m.a.createElement("button",{className:"button is-link is-small ".concat(c.upload.uploadButtonState),type:"submit"},"Submit"))))))),m.a.createElement("footer",{className:"modal-card-foot"},m.a.createElement("div",{className:"buttons are-small"},m.a.createElement("button",{className:"button is-warning",onClick:function(){o.dispatch({type:"HandleEditTenant",payload:{id:a.id}})}},"Edit"),m.a.createElement("button",{className:"button is-danger",onClick:function(){window.confirm("This action cannot be reversed! Are you sure you want to delete?")&&o.handleDeleteTenant(a.id,o.dispatch)}},"Delete")))))},S=m.a.createContext(null),A=function(e){var a={tenants:e.tenants||[],tenantsCount:e.tenantsCount||0,tenant:e.tenant||null,onAddTenant:e.onAddTenant||!1,onViewTenant:e.onViewTenant||!1,onEditTenant:e.onEditTenant||!1,alert:e.alert||{show:!1,message:"",type:""}},t=Object(s.useReducer)(p,a),n=Object(d.a)(t,2),l=n[0],c=n[1],r={relations:["primaryContact","teamMembers","tenantAccountOfficers","customTheme","connectionResource"]};Object(s.useEffect)((function(){y(c,r)}),[]);var o=m.a.createElement(C,{type:l.alert.type,message:l.alert.message,onClickHandler:function(){c({type:"HandleCloseAlert"})}});return l.onEditTenant&&null!==l.tenant?m.a.createElement("div",{className:"container "},m.a.createElement("div",{className:"content is-medium"},m.a.createElement("p",null,m.a.createElement(x,{tenant:l.tenant,handleUpdateTenant:f,dispatch:c})),m.a.createElement("p",null,l.alert.show&&o),m.a.createElement("p",null,m.a.createElement(S.Provider,{value:{dispatch:c,handleDeleteTenant:b}},m.a.createElement(T,{tenants:l.tenants}))))):l.onAddTenant?m.a.createElement("div",{className:"container "},m.a.createElement("div",{className:"content is-medium"},m.a.createElement("p",null,m.a.createElement(j,{handleCreateTenant:N,dispatch:c})),m.a.createElement("p",null,l.alert.show&&o),m.a.createElement("p",null,m.a.createElement(S.Provider,{value:{dispatch:c,handleDeleteTenant:b}},m.a.createElement(T,{tenants:l.tenants}))))):l.onViewTenant&&null!=l.tenant?m.a.createElement("div",{className:"container "},m.a.createElement("div",{className:"content is-medium"},m.a.createElement("p",null,m.a.createElement(S.Provider,{value:{dispatch:c,handleDeleteTenant:b}},m.a.createElement(k,{tenant:l.tenant}))))):m.a.createElement("div",{className:"container "},m.a.createElement("div",{className:"content is-medium"},m.a.createElement("p",null,m.a.createElement("button",{className:"button is-outline",onClick:function(){c({type:"HandleOnAddTenant"})}},"+ Add Tenant")),m.a.createElement("p",null,l.alert.show&&o),m.a.createElement("p",null,m.a.createElement(S.Provider,{value:{dispatch:c,handleDeleteTenant:b}},m.a.createElement(T,{tenants:l.tenants})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=document.getElementById("initial-props").getAttribute("data-json"),q=JSON.parse(decodeURI(D));i.a.hydrate(m.a.createElement(A,q),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,a,t){e.exports=t(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.99f9cf85.chunk.js.map